import{d as F,u as N,m as R,a as $,r as y,o as B,b as e,c as t,e as u,f as c,t as d,h as n,F as f,j as h,g as b}from"./index-c4daae46.js";const A={key:0},I={key:1},P={class:"list-box"},V={key:0},j=u("span",null,[u("b",null,"Add/Remove to Favorites: ")],-1),w={key:1},L=u("span",null,[u("b",null,"Add/Remove to Favorites: ")],-1),D={key:0},E={key:1,class:"list-box"},J={key:0},M={key:1},z=F({__name:"Single",setup(O){const v=N(),k=R(),S=$(),s=y({}),a=y(!1),C=r=>{v.dispatch("fetchPeople",r).then(()=>{s.value=v.getters.people})},_=(r,o)=>{a.value=!0,localStorage.setItem(i(r),JSON.stringify(o)),a.value=!1},g=r=>{a.value=!0,localStorage.removeItem(i(r)),a.value=!1},i=r=>r.split("/")[r.split("/").length-2],p=r=>{for(let o in localStorage)if(!isNaN(o)&&o===r)return!0;return!1};return B(()=>{C(`https://swapi.dev/api/people/${k.params.id}`)}),(r,o)=>(e(),t(f,null,[u("a",{href:"#",onClick:o[0]||(o[0]=l=>c(S).go(-1))},"Back"),u("h1",null,"People "+d(c(k).params.id),1),c(v).getters.peopleStatus==="wait"?(e(),t("div",A,"Loading...")):n("",!0),c(v).getters.peopleStatus==="default"?(e(),t("div",I,[u("div",P,[a.value?n("",!0):(e(),t("div",V,[j,p(i(s.value.url))?n("",!0):(e(),t("button",{key:0,onClick:o[1]||(o[1]=l=>_(s.value.url,s.value))},"Add")),p(i(s.value.url))?(e(),t("button",{key:1,onClick:o[2]||(o[2]=l=>g(s.value.url))},"Remove")):n("",!0)])),a.value?(e(),t("div",w,[L,p(i(s.value.url))?n("",!0):(e(),t("button",{key:0,onClick:o[3]||(o[3]=l=>_(s.value.url,s.value))},"Add")),p(i(s.value.url))?(e(),t("button",{key:1,onClick:o[4]||(o[4]=l=>g(s.value.url))},"Remove")):n("",!0)])):n("",!0)]),(e(!0),t(f,null,h(s.value,(l,m,T)=>(e(),t("div",null,[typeof l=="string"?(e(),t("div",D,[b(d(m)+": ",1),u("b",null,d(l||"-"),1)])):n("",!0),typeof l=="object"?(e(),t("div",E,[b(d(m)+": ",1),l.length===0?(e(),t("span",J,"-")):n("",!0),l.length!==0?(e(),t("div",M,[(e(!0),t(f,null,h(l,x=>(e(),t("div",null,[u("b",null,d(x),1)]))),256))])):n("",!0)])):n("",!0)]))),256))])):n("",!0)],64))}});export{z as default};
